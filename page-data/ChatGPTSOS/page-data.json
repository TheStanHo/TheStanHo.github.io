{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/ChatGPTSOS/","result":{"pageContext":{"article":{"banner":{"alt":"ChatGPT","caption":"Photo by <u><a href=\"https://unsplash.com/photos/a-close-up-of-a-computer-screen-with-a-blurry-background-MMUzS5Qzuus\">Jonathan Kemper</a></u>","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0990a5dfc7f4c75d5a99293850409ffd/91671/jonathan-kemper-MMUzS5Qzuus-unsplash.jpg","srcSet":"/static/0990a5dfc7f4c75d5a99293850409ffd/7e3b4/jonathan-kemper-MMUzS5Qzuus-unsplash.jpg 165w,\n/static/0990a5dfc7f4c75d5a99293850409ffd/47f88/jonathan-kemper-MMUzS5Qzuus-unsplash.jpg 330w,\n/static/0990a5dfc7f4c75d5a99293850409ffd/91671/jonathan-kemper-MMUzS5Qzuus-unsplash.jpg 660w,\n/static/0990a5dfc7f4c75d5a99293850409ffd/5aaff/jonathan-kemper-MMUzS5Qzuus-unsplash.jpg 1320w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/0990a5dfc7f4c75d5a99293850409ffd/322ad/jonathan-kemper-MMUzS5Qzuus-unsplash.webp 165w,\n/static/0990a5dfc7f4c75d5a99293850409ffd/de3b3/jonathan-kemper-MMUzS5Qzuus-unsplash.webp 330w,\n/static/0990a5dfc7f4c75d5a99293850409ffd/2b2b5/jonathan-kemper-MMUzS5Qzuus-unsplash.webp 660w,\n/static/0990a5dfc7f4c75d5a99293850409ffd/e36a7/jonathan-kemper-MMUzS5Qzuus-unsplash.webp 1320w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<h2>Introduction</h2>\n<p>As usual, I found myself bored on a Friday night, so I decided to challenge myself by coding a \"simple\" Python API. I thought it would be a useful skill to have, especially if I ever need it in my line of work as a DevOps Engineer.</p>\n<p>It's worth noting that I lack extensive coding experience. The last time I did any serious coding was back in 2018, using Java to create an Android application, to track people's phone usage (This was before Apple and Google decided to implement this kind of feature on their phones!). While I can read and quickly pick up new programming languages, knowing which functions, methods, and tools to use is a different story. This is where ChatGPT comes into play. Since I've spent £20 on a subscription for personal use, I figured I might as well make the most of it.</p>\n<h2>The Idea</h2>\n<p>The outcome of this is:</p>\n<ul>\n<li>Python application with a few API endpoints</li>\n<li>Swagger API documentation - Purely because I've never had the chance to create one</li>\n<li>Have some sort of authorisation on the API - via BearerToken</li>\n<li>Hope ChatGPT can carry me in this task</li>\n<li>Run the application on Docker so I can just run the image locally and test the API works and also check the Swagger page generated for it</li>\n</ul>\n<p>Tasking myself with this will help me have a better understanding of Python, API development and also how to utilise ChatGPT \"efficiently\" tp help me do such a task. All of these skills will help me progress in future in my line of DevOps (Hopefully).</p>\n<h2>The Outcome</h2>\n<p>The repository containing the files of this project can be found in this <a href=\"https://github.com/TheStanHo/WeekendPythonApi\">repository</a>. With the file structure below.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.\r\n└── Python-API\r\n    ├── Swagger\r\n    │   ├── data_get.yaml\r\n    │   ├── data_post.yaml\r\n    │   ├── login.yaml\r\n    │   └── run_script.yaml\r\n    ├── app.py\r\n    ├── DockerFile\r\n    ├── requirements.txt\r\n    └── script.ps1</code></pre></div>\n<p>Please note: Security was not the forefront of my mind for this implementation. For example, the username and password are hardcoded for the /token endpoint. In a production environment, I would validate the username and password against a database before generating a JWT token.</p>\n<p>I managed to create 4 api endpoints</p>\n<ol>\n<li><strong>/data - GET</strong> - This just returns a string to say \"Hey please use the POST method for this endpoint\" - Pointless but I just wanted to try creating a simple GET endpoint and as you can imagine... I'm not the creative type.</li>\n<li><strong>/data - POST</strong> - This would just return the json body that was sent to the endpoint. But you could see how this could be used to say send data and persist it to some kind of database or send it to an application for further processing for example.</li>\n<li><strong>/token - POST</strong> - This would generate a JWT token, if the correct username and password is used. Then it will respond back with a JWT token which you can use on the /run-script endpoint. Useful in future to restrict endpoint request to certain users</li>\n<li><strong>/run-script - POST</strong> - This will run a pre-created Powershell script given the correct bearer token and return back the output of the powershell script.</li>\n</ol>\n<p>The Swagger created for the endpoints can be seen below\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 96.96969696969697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACE0lEQVR42q2US0/bQBRG/f9/Ast20266YtdFq6qgSkTkAQhCkzh+jmf8tuP4GZ/KAaqiijSgXulo9GnmfrrzuKPZtoPyfZTyEUIilU+SZtiOwJOKlW6RJBlt21LXNU3THEQzDJPvPybMbu4ZXc6YTG/4uVhxMZpwdX3Ham2Rpq8wdByHfFMRxRllWdH3u31y3/fsdjugP9psb2jZNo7KWDshrkqp6nqf/MSTHhYfVaFlO3hJgxeVOEGJSkrqeph8bnws2nApPVDVzX7LZfWvpOYgmus6xIEkixSwo2tbuu6R9g+6lrZ9qPwQmmnZnN8nfL1NMf0Cz0+QYYYXpMggQ4b5o84IkoJkUx9EWxkWp4uO99OSiRFjyBDdi1nLGEMlmH66HwdtD+ZZhZeVL6ItDZ2P6pwT9zMXYs5K2CykxULarJSD7rsslcNS2uiBi7eNEUWE9wKaZVl4Uch8bZDmOXXTUNbVm9EM0+BK6Hy5HeNGAfm2IC025GXxJrSFofPBH3EivjEOdNZKMBcmTh4iihixiR7GI9Hu53PqZIuvC1xboK9N0iyj67rf3fGqh305GXPm3vHp5oyxfs/tcokhBTKN8OKQYJMSbbOj0UaTS06jK94551yHJk7oY8UKI/QwI4nII9Q2RRbJUWiz2Yx9ND1929E2zztk0G3THI02nU73vbytyjd9Bn+d4WA4RFVV/8XwF8KxrAgANbgiAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8f50e8575029d922515cb98d69ffb099/c9b55/swagger.webp 165w,\n/static/8f50e8575029d922515cb98d69ffb099/f2908/swagger.webp 330w,\n/static/8f50e8575029d922515cb98d69ffb099/cc661/swagger.webp 660w,\n/static/8f50e8575029d922515cb98d69ffb099/a66df/swagger.webp 990w,\n/static/8f50e8575029d922515cb98d69ffb099/e28de/swagger.webp 1169w\"\n              sizes=\"(max-width: 660px) 100vw, 660px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8f50e8575029d922515cb98d69ffb099/04c57/swagger.png 165w,\n/static/8f50e8575029d922515cb98d69ffb099/d9ecf/swagger.png 330w,\n/static/8f50e8575029d922515cb98d69ffb099/1f083/swagger.png 660w,\n/static/8f50e8575029d922515cb98d69ffb099/7a3d6/swagger.png 990w,\n/static/8f50e8575029d922515cb98d69ffb099/5a3c9/swagger.png 1169w\"\n            sizes=\"(max-width: 660px) 100vw, 660px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8f50e8575029d922515cb98d69ffb099/1f083/swagger.png\"\n            alt=\"Swagger\"\n            title=\"Swagger page\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Swagger page</p></figcaption>\n  </figure></p>\n<p>And some examples of the endpoints can be seen below\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.878787878787875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABV0lEQVR42o3SW2rdMBSFYQ0jgTSWtCVt3Xw5pXnoUzuBQIfQjqTQif9Ftkscch768LEExpvlLZuvLy982VayRpIWYso4CTgfsM5jnZz8Ja8Eaz3u6QH/6QHT55l1XVFVvPdYa3HuH3fJ+7yzWB+Yvv/i+dtPTIyC5sx22+hzJ6ZIiIEYIyJCipEQwvGy9x+NgZKYfvzm8fUPptZKLYWkSm2NdZlpJdNaJeaGD7oPG83vc9jpGff0iNgJU1ql3T4zt4Jq3BumveHZMgginhCEEPxJPkpKrh2jOVF7pZVE1nDIcVeGMqS3vD67nlWoNWGyKmnsLUVUM+7cjbOOydr3puMTY0r4FHBB9rQx4HRDUsUsy0KpjVIr/dxnzRkdF2HHLb4nzhHE72sQf+QoEKPuc0xtmb7OtJZZu7L2I7c57+eR99x25TwXtq4sS8N4P36HN+5O/q/R9i/bbx+d2yYXdQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/16289a93e294760830ecd9d44f28f09e/c9b55/token.webp 165w,\n/static/16289a93e294760830ecd9d44f28f09e/f2908/token.webp 330w,\n/static/16289a93e294760830ecd9d44f28f09e/cc661/token.webp 660w,\n/static/16289a93e294760830ecd9d44f28f09e/a66df/token.webp 990w,\n/static/16289a93e294760830ecd9d44f28f09e/d33d4/token.webp 1320w,\n/static/16289a93e294760830ecd9d44f28f09e/6bc2d/token.webp 1734w\"\n              sizes=\"(max-width: 660px) 100vw, 660px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/16289a93e294760830ecd9d44f28f09e/04c57/token.png 165w,\n/static/16289a93e294760830ecd9d44f28f09e/d9ecf/token.png 330w,\n/static/16289a93e294760830ecd9d44f28f09e/1f083/token.png 660w,\n/static/16289a93e294760830ecd9d44f28f09e/7a3d6/token.png 990w,\n/static/16289a93e294760830ecd9d44f28f09e/78958/token.png 1320w,\n/static/16289a93e294760830ecd9d44f28f09e/9c1e6/token.png 1734w\"\n            sizes=\"(max-width: 660px) 100vw, 660px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/16289a93e294760830ecd9d44f28f09e/1f083/token.png\"\n            alt=\"Token endpoint\"\n            title=\"Token endpoint\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Token endpoint</p></figcaption>\n  </figure></p>\n<p>And some examples of the endpoints can be seen below\r\n<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 660px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.303030303030305%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABOElEQVR42qWSy04EIRBF+yd04WOaV0MV0NBER3fGxJ2/oRuX/v/iGmo6nXGcjZnFyYUU3HrAQByQUgIzo0SPh5JQI8EaA601tFKiSqnzrDFzdwV7f42BIqOUjGVZsLQGN03bITFcMcacp8eNhX7/xv3bF4YUGd47+BDQlorWqph67wXnnKg+SaK02jpQ2uD29RM3Lx8YiBg5z5jnGSlFEIU/FfX9cYJTrLUopBGnEUMIQcxyzrDOSnDj6EKMEbVWlFJE61JRakFtC0rv7PEZPkQMT/s9WmsgJsSckHJGIJJq+sOM6/DHccRutxPtCbQz0NaIjsZATRkU594ygZjBOYPDBAoTmLysnVRsNpwzcEf7XzGrwBQwHIbukHJEZI8UPRJ7WRNN/4J5NextHFAX0Ucjhqd/7hJ+AEEPHmon87neAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/30c545437256f9afec735374964e1f19/c9b55/run-script.webp 165w,\n/static/30c545437256f9afec735374964e1f19/f2908/run-script.webp 330w,\n/static/30c545437256f9afec735374964e1f19/cc661/run-script.webp 660w,\n/static/30c545437256f9afec735374964e1f19/a66df/run-script.webp 990w,\n/static/30c545437256f9afec735374964e1f19/d33d4/run-script.webp 1320w,\n/static/30c545437256f9afec735374964e1f19/24625/run-script.webp 1763w\"\n              sizes=\"(max-width: 660px) 100vw, 660px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/30c545437256f9afec735374964e1f19/04c57/run-script.png 165w,\n/static/30c545437256f9afec735374964e1f19/d9ecf/run-script.png 330w,\n/static/30c545437256f9afec735374964e1f19/1f083/run-script.png 660w,\n/static/30c545437256f9afec735374964e1f19/7a3d6/run-script.png 990w,\n/static/30c545437256f9afec735374964e1f19/78958/run-script.png 1320w,\n/static/30c545437256f9afec735374964e1f19/5551c/run-script.png 1763w\"\n            sizes=\"(max-width: 660px) 100vw, 660px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/30c545437256f9afec735374964e1f19/1f083/run-script.png\"\n            alt=\"Run-script endpoint\"\n            title=\"Run-script endpoint\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Run-script endpoint</p></figcaption>\n  </figure></p>\n<h2>Conclusion</h2>\n<p>I would say I managed to accomplish what I wanted too. Am I a Python expert? By no means, but do I have more of an understanding on how to create an API using Python? Yes.</p>\n<p>The things I've learned from this:</p>\n<ul>\n<li>Decorators in Python</li>\n<li>Flasgger to create the Swagger documentation</li>\n<li>How to run a script in a Python app</li>\n<li>The useful nice of having a requiremnts.txt</li>\n<li>Creation of JWT tokens</li>\n</ul>\n<p>And I've also learned how ChatGPT can help you with this process (I was using ChatGPT-4o model for this). It is not always 100% the code it comes up with, but with some prior knowledge on how to read and understand code (luckily thanks to my university teaching Object Orientated Programming) I was able to debug and understand what the code was doing and the logic behind it.</p>","categories":["Personal","Scripting","Python","ChatGPT"],"date":"June 02, 2024","description":"Can AI help me code a Python API?","id":"2ec7bdda-156c-58c1-a100-9ff446f5ff16","keywords":["Blog","Scripting","Python","AI","ChatGPT"],"slug":"/ChatGPTSOS/","title":"ChatGPT SOS - Can it help me code a Python API?","readingTime":{"text":"4 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["172304273","1764120992","2442753764","2572006233","3525841079","513457919","540466502","597217301","948380417"],"slicesMap":{}}